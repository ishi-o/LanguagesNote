### 纯文本数据预处理

- 这里的纯文本数据，指`.csv`文件
  用于轨迹预测的数据，重要的有以下几项：
  - `MMSI`：水上移动业务通信标识，可以看作船舶的`id`
  - 记录的发生时间：对时间去重后，就可以看作记录的`id`
  - `LAT、LON`：纬度、经度
  - `SOG、COG`：对地航速、对地航向
- 第一步是归一化：
  归一化的原因：各种特征的范围不尽相同，训练过程中，希望去除因为不同特征数据范围的不同而产生的不均衡影响，所以进行归一化，使各个特征的数据
  - 最大最小归一化：这是最常用的方法，不改变原有数据的分布，映射到`[0, 1]`
    缺点是后续加入超出范围的数据后，需要再处理(除非超出范围的数据可以直接丢弃)
  - 其它归一化技术不想了解
- 生成样本：因为是轨迹预测，所以时间是很重要的属性
  - 先是一次大筛选，筛出指定地区的记录，直接用经纬度筛选即可
  - **根据时间去重**，然后取**一段时间内的记录，生成一条样本**
    筛选一：这一段记录里，相邻的两个记录的**时间跨度不能过大**
    筛选二：一段记录里可能有多条船，抽出每条船的记录，相邻的两个记录间的**经纬度必须有一定改变**
    否则，船舶静止的信息可能会干扰模型对轨迹的判断
  - 轨迹预测就是预测未来的位置，那么刚好，这一段连续的时间记录里面，可以用**后半段**视为“未来”的位置，即**用来监督模型的标签**
    前半段就是模型的输入，经过推理等等，模型生成预测值后和后半段进行比较，得到模型损失
  - 一条样本，应该包含多个船只的信息，使模型能处理更复杂的输入
    所以一条样本应该多出一个维度用来区分`MMSI`，并且配备一个掩码，来标识对于第`i`个`MMSI`来说，有效的记录
- 数据清洗的最后一步，处理缺失值，然后装车，生成`.pt`文件
  - 如果有缺失值，则用邻近的非缺失数据填补，防止有空洞影响模型训练
  - 前填/后填：用缺失值前面的/后面的非缺失值来填充